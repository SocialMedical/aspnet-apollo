@model Sic.Apollo.Models.Medical.View.Patient

<div class="box_info_person patient_profile">
    <div class="circle_title_box_info"></div><div class="title_box_info">
        <h5>@TitleFor.EpicrisisPatientProfile</h5>
    </div>
    @using (Html.BeginForm("EditProfile", "Patient", new { patientId = Model.PatientId }, FormMethod.Post,
            new { id = "patientProfileForm" }))
    {
        @Html.HiddenFor(model => model.PatientId)
        <div class="content_form_tabs">
            <div class="content_text_tabs">@LabelFor.FirstName</div>
            <div class="content_inputs_tabs">
                @Html.TextBoxFor(model => model.FirstName, new { @class = "form-control", id = "patientFirstName" })
            </div>
            <div>
                <span class="error_field">@Html.ValidationMessageFor(model => model.FirstName)</span>
            </div>
        </div>
        <div class="content_form_tabs">
            <div class="content_text_tabs">@LabelFor.MiddleName</div>
            <div class="content_inputs_tabs">@Html.TextBoxFor(model => model.MiddleName, new { @class = "form-control", id = "patientMiddleName" })</div>
            <div>
                <span class="error_field">@Html.ValidationMessageFor(model => model.MiddleName)</span>
            </div>
        </div>
        <div class="content_form_tabs">
            <div class="content_text_tabs">@LabelFor.LastName</div>
            <div class="content_inputs_tabs">@Html.TextBoxFor(model => model.LastName, new { @class = "form-control", id = "patientLastName" })</div>
            <div>
                <span class="error_field">@Html.ValidationMessageFor(model => model.LastName)</span>
            </div>
        </div>
        <div class="content_form_tabs">
            <div class="content_text_tabs">@LabelFor.SecondLastName</div>
            <div class="content_inputs_tabs">@Html.TextBoxFor(model => model.SecondLastName, new { @class = "form-control", id = "patientSecondLastName" })</div>

            <div>
                <span class="error_field">@Html.ValidationMessageFor(model => model.SecondLastName)</span>
            </div>
        </div>
        <div class="content_form_tabs_textarea">
            <div class="content_text_tabs">@LabelFor.Comments</div>
            <div class="content_inputs_tabs_textarea">@Html.TextAreaFor(model => model.Comments, new { @class = "form-control", rows = "3", id = "patientComments" })</div>
            <div>
                <span class="error_field">@Html.ValidationMessageFor(model => model.Comments)</span>
            </div>
        </div>
        <div class="content_form_tabs">
            <div class="content_text_tabs">@LabelFor.HumanGender</div>
            <div class="content_inputs_tabs">@Html.DropDownListFor(m => m.Gender, Sic.Gender.Male.ToSelectList(), new { @class = "form-control", id = "patientGender" })</div>
            <div>
                <span class="error_field">@Html.ValidationMessageFor(model => model.Gender)</span>
            </div>
        </div>
        <div class="content_form_tabs">
            <div class="content_text_tabs">@LabelFor.BloodGroup</div>
            <div class="content_inputs_tabs">@Html.DropDownListFor(model => model.BloodGroup, Sic.BloodGroup.Unspecified.ToSelectList(), new { @class = "form-control", id = "patientBloodGroup" })</div>
            <div>
                <span class="error_field">@Html.ValidationMessageFor(model => model.BloodGroup)</span>
            </div>
        </div>


        <div class="content_form_tabs">
            <div class="content_text_tabs">@LabelFor.BirthDate</div>
            <div class="content_inputs_tabs">
                <div class="content_select_date">
                    @Html.DropDownDayOfMonthListFor(model => model.BirthDateDay, new { @class = "form-control short", id = "patientBirthDateDay" })
                </div>
                <div class="content_select_date">
                    @Html.DropDownMonthListFor(model => model.BirthDateMonth, new { @class = "form-control month", id = "patientBirthDateMonth" })
                </div>
                <div class="content_select_date">
                    @Html.DropDownYearListFor(model => model.BirthDateYear, new { @class = "form-control short", id = "patientBirthDateYear" })
                </div>
            </div>
            <div>
                <span class="error_field">@Html.ValidationMessageFor(model => model.BirthDate)</span>
            </div>
        </div>
        <div class="content_form_tabs">
            <div class="content_text_tabs">@LabelFor.BirthPlace</div>
            <div class="content_inputs_tabs">@Html.TextAreaFor(model => model.BirthPlace, new { @class = "form-control", id = "patientBirthPlace" })</div>

            <div>
                <span class="error_field">@Html.ValidationMessageFor(model => model.BirthPlace)</span>
            </div>
        </div>
        <div class="content_form_tabs">
            <div class="content_text_tabs">@LabelFor.Address</div>
            <div class="content_inputs_tabs">@Html.TextAreaFor(model => model.Address, new { @class = "form-control", id = "patientAddress" })</div>
            <div>
                <span class="error_field">@Html.ValidationMessageFor(model => model.Address)</span>
            </div>
        </div>
        <div class="content_form_tabs">
            <div class="content_text_tabs">@LabelFor.Email</div>
            <div class="content_inputs_tabs">@Html.TextBoxFor(model => model.Email, new { @class = "form-control", id = "patientEmail" })</div>
            <div>
                <span class="error_field">@Html.ValidationMessageFor(model => model.Email)</span>
            </div>
        </div>
        <div class="content_form_tabs">
            <div class="content_text_tabs">@LabelFor.PhoneNumber</div>
            <div class="content_inputs_tabs">@Html.TextBoxFor(model => model.PhoneNumber, new { @class = "form-control", id = "patientPhoneNumber" })</div>
            <div>
                <span class="error_field">@Html.ValidationMessageFor(model => model.PhoneNumber)</span>
            </div>
        </div>
        <div class="content_form_tabs">
            <div class="content_text_tabs">@LabelFor.CellPhone</div>
            <div class="content_inputs_tabs">@Html.TextBoxFor(model => model.CellPhone, new { @class = "form-control", id = "patientCellPhone" })</div>
            <div>
                <span class="error_field">@Html.ValidationMessageFor(model => model.CellPhone)</span>
            </div>
        </div>

        <div class="title_seguro_medico">
            <div class="txt_seguro_medico">@LabelFor.MedicalInsurance</div>
            <div class="line_seguro_medico"></div>
        </div>

        foreach (var insurance in Model.PatientInsuranceInstitutions.OrderBy(p => p.Priority))
        {
            int i = Model.PatientInsuranceInstitutions.IndexOf(insurance);
            var list = ((IEnumerable<Sic.Apollo.Models.Pro.InsuranceInstitution>)ViewBag.InsuranceInstitutions).
                ToSelectList(selected: p => p.InstitutionId == Model.PatientInsuranceInstitutions[i].InsuranceInstitutionId);
            @Html.HiddenFor(model => model.PatientInsuranceInstitutions[i].PatientId)
            @Html.HiddenFor(model => model.PatientInsuranceInstitutions[i].Priority)
            @Html.HiddenFor(model => model.PatientInsuranceInstitutions[i].PatientInsuranceInstitutionId)

            <div class="content_form_tabs">
                <div class="content_text_tabs">@LabelFor.MedicalInsurance</div>
                <div class="content_inputs_tabs">
                    @Html.DropDownListFor(model => model.PatientInsuranceInstitutions[i].InsuranceInstitutionId, list, Sic.Apollo.Resources.Resources.LabelForNoneSelect, new { @class = "form-control", })
                </div>
            </div>
            <div class="content_form_tabs">
                <div class="content_text_tabs">@LabelFor.MedicalInsurancePlanShortcut</div>
                <div class="content_inputs_tabs">@Html.TextBoxFor(model => model.PatientInsuranceInstitutions[i].InsuranceInstitutionPlanName, new { @class = "form-control" })</div>
            </div>
            <div class="content_form_tabs">
                <div class="content_text_tabs">@LabelFor.MedicalInsuranceRegistrationCode</div>
                <div class="content_inputs_tabs">@Html.TextBoxFor(model => model.PatientInsuranceInstitutions[i].RegistrationCode, new { @class = "form-control" })</div>
            </div>
            <div class="line_seguros"></div>
        }

        <div class="content_buttom_box"> <button id="button_patient_submit" type="button" class="btn btn-warning btn-medium">@LabelFor.SaveAction</button></div>

    }
</div>

@*<h2>@Sic.Apollo.Resources.Resources.LabelForProfile</h2>*@

@*<div class="scrollTabs">
        <div class="arrow_tab2">
        </div>
        <div id="profileContentMessage">
            @{Html.RenderPartial("_NotificationMessages");}
        </div>
        <div class="content_tab1">
            @using (Html.BeginForm("Epicrisis", "Patient", new { patientId = Model.PatientId }, FormMethod.Post,
                new { id = "patientProfileForm", onSubmit = "return patientFormValidate()" }))
            {
                @Html.HiddenFor(model => model.PatientId)
                <div class="box_text_form">@Html.LabelFor(model => model.Contact.FirstName)</div>
                <div class="box_input_form">
                    @Html.TextBoxFor(model => model.Contact.FirstName, new { @class = "input_text", id = "patientFirstName" })
                    <div>
                        <span class="error_field">@Html.ValidationMessageFor(model => model.Contact.FirstName, null, new { data_valmsg_for = "patientFirstName" })</span>
                    </div>
                </div>
                <div class="box_text_form">@Html.LabelFor(model => model.Contact.MiddleName) @Sic.Apollo.Resources.Resources.LabelForFieldOptional</div>
                <div class="box_input_form">
                    @Html.TextBoxFor(model => model.Contact.MiddleName, new { @class = "input_text", id = "patientMiddleName" })
                    <div>
                        <span class="error_field">@Html.ValidationMessageFor(model => model.Contact.MiddleName, null, new { data_valmsg_for = "patientMiddleName" })</span>
                    </div>
                </div>
                <div class="box_text_form">@Html.LabelFor(model => model.Contact.LastName)</div>
                <div class="box_input_form">
                    @Html.TextBoxFor(model => model.Contact.LastName, new { @class = "input_text", id = "patientLastName" })
                    <div>
                        <span class="error_field">@Html.ValidationMessageFor(model => model.Contact.LastName, null, new { data_valmsg_for = "patientLastName" })</span>
                    </div>
                </div>
                <div class="box_text_form">@Html.LabelFor(model => model.Contact.SecondLastName) @Sic.Apollo.Resources.Resources.LabelForFieldOptional</div>
                <div class="box_input_form">
                    @Html.TextBoxFor(model => model.Contact.SecondLastName, new { @class = "input_text", id = "patientSecondLastName" })
                    <div>
                        <span class="error_field">@Html.ValidationMessageFor(model => model.Contact.SecondLastName, null, new { data_valmsg_for = "patientSecondLastName" })</span>
                    </div>
                </div>
                <div class="box_text_form">@Sic.Apollo.Resources.Resources.LabelForComments</div>
                <div class="box_input_form">
                    @Html.TextAreaFor(model => model.Comments, new { @class = "area_text", id = "patientComments" })
                    <div>
                        <span class="error_field">@Html.ValidationMessageFor(model => model.Comments, null, new { data_valmsg_for = "patientComments" })</span>
                    </div>
                </div>
                <div class="box_text_form">@Html.LabelFor(model => model.Contact.Gender)</div>
                <div class="box_input_form">
                    @Html.DropDownListFor(m => m.Contact.Gender, Sic.Gender.Male.ToSelectList(), new { @class = "select_input_form", id = "patientGender" })
                    <div>
                        <span class="error_field">@Html.ValidationMessageFor(model => model.Contact.Gender, null, new { data_valmsg_for = "patientGender" })</span>
                    </div>
                </div>
                <div class="box_text_form">@Sic.Apollo.Resources.Resources.LabelForBloodGroup</div>
                <div class="box_input_form">
                    @Html.DropDownListFor(m => m.BloodGroup, Sic.BloodGroup.Unspecified.ToSelectList(), new { @class = "select_input_form", id = "patientBloodGroup" })
                    <div>
                        <span class="error_field">@Html.ValidationMessageFor(model => model.BloodGroup, null, new { data_valmsg_for = "patientBloodGroup" })</span>
                    </div>
                </div>
                <div class="box_text_form">@Html.LabelFor(model => model.Contact.BirthDate)</div>
                <div class="box_input_form">
                    <div class="content_select_date">
                        @Html.DropDownDayOfMonthListFor(model => model.Contact.BirthDateDay, new { @class = "select_date", id = "patientBirthDateDay" })
                        <div>
                            <span class="error_field">@Html.ValidationMessageFor(model => model.Contact.BirthDateDay, null, new { data_valmsg_for = "patientBirthDateDay" })</span>
                        </div>
                    </div>
                    <div class="content_select_date">
                        @Html.DropDownMonthListFor(model => model.Contact.BirthDateMonth, new { @class = "select_date", id = "patientBirthDateMonth" })
                        <div>
                            <span class="error_field">@Html.ValidationMessageFor(model => model.Contact.BirthDateMonth, null, new { data_valmsg_for = "patientBirthDateMonth" })</span>
                        </div>
                    </div>
                    <div class="content_select_date">
                        @Html.DropDownYearListFor(model => model.Contact.BirthDateYear, new { @class = "select_date", id = "patientBirthDateYear" })
                        <div>
                            <span class="error_field">@Html.ValidationMessageFor(model => model.Contact.BirthDateYear, null, new { data_valmsg_for = "patientBirthDateYear" })</span>
                        </div>
                    </div>
                    <div>
                        <span class="error_field">@Html.ValidationMessageFor(model => model.Contact.BirthDate)</span>
                    </div>
                </div>
                <div class="box_text_form">@Html.LabelFor(model => model.Contact.BirthPlace)</div>
                <div class="box_input_form">
                    @Html.TextAreaFor(model => model.Contact.BirthPlace, new { @class = "area_text", id = "patientBirthPlace" })
                    <div>
                        <span class="error_field">@Html.ValidationMessageFor(model => model.Contact.BirthPlace, null, new { data_valmsg_for = "patientBirthPlace" })</span>
                    </div>
                </div>
                <div class="box_text_form">@Html.LabelFor(model => model.Contact.Address)</div>
                <div class="box_input_form">
                    @Html.TextAreaFor(model => model.Contact.Address, new { @class = "area_text", id = "patientAddress" })
                    <div>
                        <span class="error_field">@Html.ValidationMessageFor(model => model.Contact.Address, null, new { data_valmsg_for = "patientAddress" })</span>
                    </div>
                </div>
                <div class="box_text_form">@Html.LabelFor(model => model.Contact.PhoneNumber)</div>
                <div class="box_input_form">
                    @Html.TextBoxFor(model => model.Contact.PhoneNumber, new { @class = "input_text", id = "patientPhoneNumber" })
                    <div>
                        <span class="error_field">@Html.ValidationMessageFor(model => model.Contact.PhoneNumber, null, new { data_valmsg_for = "patientPhoneNumber" })</span>
                    </div>
                </div>
                <div class="box_text_form">@Html.LabelFor(model => model.Contact.CellPhone)</div>
                <div class="box_input_form">
                    @Html.TextBoxFor(model => model.Contact.CellPhone, new { @class = "input_text", id = "patientCellPhone" })
                    <div>
                        <span class="error_field">@Html.ValidationMessageFor(model => model.Contact.CellPhone, null, new { data_valmsg_for = "patientCellPhone" })</span>
                    </div>
                </div>


                foreach (var insurance in Model.PatientInsuranceInstitutions.OrderBy(p => p.Priority))
                {
                    int i = Model.PatientInsuranceInstitutions.IndexOf(insurance);
                    var list = ((IEnumerable<Sic.Apollo.Models.Pro.InsuranceInstitution>)ViewBag.InsuranceInstitutions).
                        ToSelectList(selected: p => p.InstitutionId == Model.PatientInsuranceInstitutions[i].InsuranceInstitutionId);
                    @Html.HiddenFor(model => model.PatientInsuranceInstitutions[i].PatientId)
                    @Html.HiddenFor(model => model.PatientInsuranceInstitutions[i].Priority)
                    @Html.HiddenFor(model => model.PatientInsuranceInstitutions[i].PatientInsuranceInstitutionId)
                    <div class="box_text_form">@Sic.Apollo.Resources.Resources.LabelForInsurance</div>
                    <div class="box_input_form">
                        @Html.DropDownListFor(model => model.PatientInsuranceInstitutions[i].InsuranceInstitutionId,
                                        list, Sic.Apollo.Resources.Resources.LabelForNoneSelect, new { @class = "select_input_form", })
                    </div>
                    <div class="box_text_form">
                        @Sic.Apollo.Resources.Resources.LabelForInsurancePlan
                    </div>
                    <div class="box_input_form">
                        @Html.TextBoxFor(model => model.PatientInsuranceInstitutions[i].InsuranceInstitutionPlanName, new { @class = "input_text" })
                    </div>
                    <div class="box_text_form">
                        @Sic.Apollo.Resources.Resources.LabelForInsuranceRegistrationCode
                    </div>
                    <div class="box_input_form">
                        @Html.TextBoxFor(model => model.PatientInsuranceInstitutions[i].RegistrationCode, new { @class = "input_text" })
                    </div>
                }

                <div class="center_save_button">
                    <center><input type="submit" class="button_save_orange" value="@Sic.Apollo.Resources.Resources.LabelForSave" /></center>
                </div>
            }
        </div>
    </div>*@