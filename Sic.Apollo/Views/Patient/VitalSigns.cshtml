@model IEnumerable<Sic.Apollo.Models.Medical.PatientVitalSign>
@using Sic.Apollo
@using Sic.Web.Mvc
@using Sic
<h2>@Sic.Apollo.Resources.Resources.LabelForPatientVitalSigns</h2>
<div class="scrollTabs">
    <div class="arrow_tab4">
    </div>
    <div id="vitalSignContentMessage">        
    </div>
    @{
        int lineCount = 0;
        DateTime currentDate = Sic.Web.Mvc.Session.CurrentDateTime.Date;
    }
    <div class="content_tab2" vitalsign-edit-content>
          <div id="vitalSignDateLabel" class="txt_az_18 label_input_trigger label_date_trigger">             
                @currentDate.ToDefaultDateFormat()
         </div>
          <input type="text" id="vitalSignDateInput" style="display:none"/>
         <br />
        @foreach (var vitalSign in Model.Where(p => p.VitalSignDate.Date == currentDate).OrderBy(p => p.VitalSign.Priority))
        {
            lineCount++;
            if (lineCount == 1)
            {
            @:@(new HtmlString("<div class=\"row_vital_sign\">"))
            }
            <div>
                <div class="box_text_three">
                    @vitalSign.VitalSign.Name
                </div>
                <div class="box_input_three">                   
                    @Html.TextBox("vitalsign-value", vitalSign.Value, new { code = vitalSign.VitalSign.Code, unit = vitalSign.MeasuringUnit, patientVitalSignId = vitalSign.PatientVitalSignId, vitalSignId = vitalSign.VitalSignId, @class = "input_text_three" })
                </div>
                <div class="box_text_three_aux">
                    @(((Sic.MeasurementUnit)vitalSign.MeasuringUnit).GetDisplay(typeof(MeasurementUnit)))
                </div>
            </div>
            if (lineCount == 3)
            {
            @:@(new HtmlString("</div>"))
                                                                        lineCount = 0;
            }
        }
        @if (lineCount != 0)
        {
            @:@(new HtmlString("</div>"))
        }
        <div class="center_save_button">
            <center><input onclick="getvitalSignValues()" type="button" class="button_save_orange" value="@Sic.Apollo.Resources.Resources.LabelForSave" /></center>
        </div>
        <div id="vitalSignHistory">
           @{Html.RenderPartial("VitalSignHistory", Model);}
        </div>
    </div>
</div>